<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:p="http://primefaces.org/ui"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:head>
	<title>MyHR</title>
	<link rel='stylesheet' id='layout-css' href='./css/layout.css'
		type='text/css' media='all' />
	<link rel='stylesheet' id='layout-csss' href='../css/layout.css'
		type='text/css' media='all' />
	<link rel="Stylesheet" href="./css/only.css" type="text/css" />
	<link rel="Stylesheet" href="../css/only.css" type="text/css" />
	<link rel="Stylesheet" href="./css/toolbar-ui.css" type="text/css" />
	<f:loadBundle basename="com.wadia.properties.labels" var="lbl" />
	<f:loadBundle basename="com.wadia.properties.messages" var="msg" />

	<script type="text/javascript">
            function downloadme(x){ 
                myTempWindow = window.open(x,'','left=10000,screenX=10000'); 
                myTempWindow.document.execCommand('SaveAs','null',x); 
                myTempWindow.close(); 
            } 
        </script>

</h:head>
<h:body>
	<div id="container">
		<ui:include src="header.xhtml" />
	</div>
	<!--div id="Menu">
            <ui:include src="Menus/MenuSelfService.xhtml"/>
        </div-->

	<h:form id="forms">
		<table style="max-width: 1700px; margin: auto;">
			<tbody>
				<tr>
					<td>
						<div id="left"
							style="width: 200px; min-height: 690px; background: #f1f1f1; font: 14px Helvetfontica, Arial, sans-serif;">
							<h:panelGrid columns="2" columnClasses="cols,cols" width="400"
								style="background: #fff;">
								<rich:panelMenu style="width:198px" itemMode="ajax"
									groupMode="ajax" groupExpandedLeftIcon="triangleUp"
									groupCollapsedLeftIcon="triangleDown"
									topGroupExpandedRightIcon="chevronUp"
									topGroupCollapsedRightIcon="chevronDown" itemLeftIcon="disc"
									expandSingle="false">
									<rich:panelMenuGroup label="My Team Data"
										rendered="#{authByRoleCtl.RH}">
										<a href="myTeamData.xhtml"><rich:panelMenuItem
												label="HR Management" name="HR Management"
												leftIcon="images/group.png" /> </a>
									</rich:panelMenuGroup>
									<rich:panelMenuGroup label="My Team"
										rendered="#{authByRoleCtl.PM}">
										<a href="myTeam.xhtml"><rich:panelMenuItem
												label="Leaves Summary" name="Leaves Summary"
												leftIcon="images/group_go.png" /> </a>
										<a href="teamcalendar.xhtml"><rich:panelMenuItem
												label="Team Calendar" name="Team Calendar"
												leftIcon="images/calendar_view_day.png" /> </a>
										<a href="teamcalendar.xhtml"><rich:panelMenuItem
												label="Team Data" name="Team Data"
												leftIcon="images/group_gear.png" /> </a>
									</rich:panelMenuGroup>
									<rich:panelMenuGroup label="My Data" expanded="true">
										<a href="acceuil.xhtml"><rich:panelMenuItem
												label="Personal Data" name="Personal Data"
												leftIcon="images/user_gray.png" /> </a>
										<a href="OrganizationalData.xhtml"><rich:panelMenuItem
												label="Organizational Data" name="Organizational Data"
												leftIcon="images/chart_organisation.png" /> </a>
										<a href="familyData.xhtml"><rich:panelMenuItem
												label="Family Data" name="Family Data"
												leftIcon="images/house.png" /> </a>
										<a href="contratData.xhtml"><rich:panelMenuItem
												label="Contract Data" name="Contract Data"
												leftIcon="images/page_white_text_width.png" /> </a>
										<a href="salary.xhtml"><rich:panelMenuItem
												label="Salary Data" name="Salary Data"
												leftIcon="images/cash-icon.png" /> </a>
										<a href="EducationData.xhtml"><rich:panelMenuItem
												label="My Education" name="My Education"
												leftIcon="images/medal_gold_1.png" /> </a>
									</rich:panelMenuGroup>
									<rich:panelMenuGroup label="My Leaves" expanded="true">
										<a href="leaves.xhtml"><rich:panelMenuItem
												label="My Leaves" name="My Leaves"
												leftIcon="images/status_away.png" /> </a>
										<a href="absenceList.xhtml"><rich:panelMenuItem
												label="My Absences" name="My Absences"
												leftIcon="images/status_busy.png" /> </a>
										<a href="teamcalendar.xhtml"><rich:panelMenuItem
												label="My Team Calendar" name="My Team Calendar"
												leftIcon="images/calendar.png" /> </a>
									</rich:panelMenuGroup>
									<rich:panelMenuGroup label="Medical Inssurance" expanded="true">
										<a href="inssurance.xhtml"><rich:panelMenuItem
												label="Inssurance Follow" name="Inssurance Follow"
												leftIcon="images/pill.png" /> </a>
									</rich:panelMenuGroup>
									<rich:panelMenuGroup label="Self Service" expanded="true">
										<a href="selfService.xhtml"><rich:panelMenuItem
												label="Employment Certificate"
												name="Certificate of Employment"
												leftIcon="images/timeline_marker.png" /> </a>
										<a href="SalaryCertificate.xhtml"><rich:panelMenuItem
												label="Salary Certificate" name="Salary Certificate"
												leftIcon="images/coins.png"  />
										</a>
										<a href="PaySlip.xhtml"><rich:panelMenuItem label="Payslip"
												name="Payslip" leftIcon="images/page_key.png" style="background: #fee6cd;"/> </a>
									</rich:panelMenuGroup>
									<rich:panelMenuGroup label="Directory" expanded="true">
										<a href="directory.xhtml"><rich:panelMenuItem
												label="Employees data" name="Employees data"
												leftIcon="images/database_table.png" /> </a>
									</rich:panelMenuGroup>

								</rich:panelMenu>
							</h:panelGrid>

						</div>

					</td>

					<td style="border : solid 1px #f1f1f1; width: 100%; background: #f1f1f1;">
                            <div id="middle" style="width: 100%; min-height: 300px; border: solid 1px #f1f1f1;">
                                <div id="actions" style="width: 100%; height: 120px; margin-bottom: 2px;" title="Actions">
                                    <p style="color : #666666; font: bold 12px Helvetica, Arial, sans-serif; margin-left: 4px; margin-top: 4px; ">Actions : </p>
								<h:panelGrid columns="3" style="margin-top: 4px; margin-left: 4px;">                                  
                                        <h:panelGrid columns="2" >
                                            <a4j:commandLink action="#{paySlipCtl.payPerMonth()}" style="margin-left: 5px;" render="growl" ><img src="images/1336142816_cog_edit.png"/></a4j:commandLink>
                                            <h:outputText value="Generate"  style="margin-left: 8px;"></h:outputText>
                                        </h:panelGrid>
                                        
                                        
									<h:panelGrid columns="2" style="margin-left: 20px;">
										<a href="SalaryCertificate.xhtml"><img
											src="images/1341096810_arrow_circle_left.png" /></a>
										<h:outputText value="Refresh Data  ">
										</h:outputText>
									</h:panelGrid>
																											
								</h:panelGrid>
								
								<p style="color : #666666; font: bold 12px Helvetica, Arial, sans-serif; margin-left: 4px; margin-top: 1px; ">Downloads : </p>
								
								<h:panelGrid columns="1" style="margin-top: 4px; margin-left: 4px;">
                                       <h:panelGrid columns="1" >
                                           After successful generation you can download your pdf file from here <a href="#{paySlipCtl.generatedLink}" style="font: bold 12px Helvetica, Arial, sans-serif; color : blue;"><img src="images/1336988516_pdf.png"/></a>
                                        </h:panelGrid>
                                 </h:panelGrid>       
							</div>
							<div style="width: 100%; margin-top: 1px; height: 560px; background: #ffffff; border: solid 1px #c9c9c9; margin: auto;">
								 <a4j:commandLink onclick="#{paySlipCtl.generate()}" />
                                 <rich:panel header="PaySlip Selection" style="height: 200px; width: 98%; text-align: center;">
                                 <p style="margin-bottom: 5px; font: 12px Helvetica, Arial, sans-serif;">Please select the payslip period</p>
                                 <table style="margin: auto; min-width: 600px; min-height:400px;" id="datatablesG">
                                        <tbody>
                                        <tr>
                                        <td style="width: 250px;"> <h:outputText value="Month" styleClass="required"/></td>
                                        <td style="background: #fff; width: 220px; height: 99%px;">
                                        <rich:select enableManualInput="true" value="#{paySlipCtl.month}" id="mnth" required="true" requiredMessage="not null value for Month">
                                               <f:selectItem itemValue="01" itemLabel="Janvier"/>
                                               <f:selectItem itemValue="02" itemLabel="FÃ©vrier"/> 
                                               <f:selectItem itemValue="03" itemLabel="Mars"/> 
                                               <f:selectItem itemValue="04" itemLabel="Avril"/>  
                                               <f:selectItem itemValue="05" itemLabel="Mai"/>
                                               <f:selectItem itemValue="06" itemLabel="Juin"/>
                                               <f:selectItem itemValue="07" itemLabel="Juillet"/>
                                               <f:selectItem itemValue="08" itemLabel="Aout"/>
                                               <f:selectItem itemValue="09" itemLabel="Septembre"/>
                                               <f:selectItem itemValue="10" itemLabel="Octobre"/>
                                               <f:selectItem itemValue="11" itemLabel="Novembre"/>
                                               <f:selectItem itemValue="12" itemLabel="Decembre"/> 
                                         </rich:select>
                                         </td>
                                         </tr>
                                        
                                        <tr>
                                                <td style="width: 150px; height : 30px;"><h:outputText value="Year" styleClass="required"/></td>
                                                <td style="background: #fff; "><h:inputText value="#{paySlipCtl.year}" id="yr" style="width: 100%; height: 30px; background: #fedd97;" required="true" requiredMessage="not null value for year" />
                                               
                                         </td>
                                        </tr>
                                        </tbody>
                                 </table>       
                                 <p:growl id="growl" showDetail="true" sticky="true" />                                   
                                 </rich:panel>
                                 <p style="color : #666666; font: bold 12px Helvetica, Arial, sans-serif; margin-left: 4px; margin-top: 5px; margin-bottom: 5px; ">PaySlips for last 3 months : </p>
								 
								 <h:panelGrid columns="3" style="width : 610px; margin : auto;">
								 
								 <p:commandLink onclick="imsEmp1.show()" style="width: 200px;">
                                    <h:graphicImage value="#{paySlipCtl.linkToShow1}" id="img1" style="border : solid 1px #c6c6c6; width: 200px; height : 300px;"/>
							     </p:commandLink>
							     
							     <p:commandLink onclick="imsEmp2.show()" style="width: 200px;">
                                    <h:graphicImage value="#{paySlipCtl.linkToShow2}" id="img2" style="border : solid 1px #c6c6c6; width: 200px; height : 300px;"/>
							     </p:commandLink>
							     
							     <p:commandLink onclick="imsEmp3.show()" style="width: 200px;">
                                    <h:graphicImage value="#{paySlipCtl.linkToShow3}" id="img3" style="border : solid 1px #c6c6c6; width: 200px; height : 300px;"/>
							     </p:commandLink>
							     </h:panelGrid>
							</div>
						</div>
					</td>

				</tr>
			</tbody>
		</table>
	</h:form>
	
	    <h:form id="formShow1">
		<p:dialog autosized="false" id="imagesPa1" widgetVar="imsEmp1" modal="true"
			style=" background: #ffffff; font: 12px Helvetica, Arial, sans-serif; margin : auto;">

			<f:facet name="header">
                   Image Details
            </f:facet>
                
              <h:graphicImage value="#{paySlipCtl.linkToShow1}" style="border : solid 1px black; width: 100%; height : 100%;"/>  
         </p:dialog>
       
       </h:form>
       
       <h:form id="formShow2">
		<p:dialog autosized="false" id="imagesPa2" widgetVar="imsEmp2" modal="true"
			style=" background: #ffffff; font: 12px Helvetica, Arial, sans-serif; margin : auto;">

			<f:facet name="header">
                   Image Details
            </f:facet>
                
              <h:graphicImage value="#{paySlipCtl.linkToShow2}" style="border : solid 1px black; width: 100%; height : 100%;"/>  
         </p:dialog>
       
       </h:form>
       
       <h:form id="formShow3">
		<p:dialog autosized="false" id="imagesPa3" widgetVar="imsEmp3" modal="true"
			style=" background: #ffffff; font: 12px Helvetica, Arial, sans-serif; margin : auto;">

			<f:facet name="header">
                   Image Details
            </f:facet>
                
              <h:graphicImage value="#{paySlipCtl.linkToShow3}" style="border : solid 1px black; width: 100%; height : 100%;"/>  
         </p:dialog>
       
       </h:form>
       
       <h:form id="formPSShow">
		<p:dialog autosized="false" id="payslip" widgetVar="payslip" modal="true"
			style=" background: #ffffff; font: 12px Helvetica, Arial, sans-serif; margin : auto;">

			<f:facet name="header">
                   PaySlip
            </f:facet>
              
              You can down load your payslip from this <a href="#{paySlipCtl.generatedLink}">link</a>  
              
         </p:dialog>
       
       </h:form>
	
</h:body>
</html>
